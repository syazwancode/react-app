(this["webpackJsonpreact-saga"]=this["webpackJsonpreact-saga"]||[]).push([[0],{125:function(e,t,a){"use strict";a.d(t,"b",(function(){return n}));var r=a(204),n=Object(r.a)(),s=[n];t.a=s},128:function(e,t,a){e.exports=a.p+"static/media/shopee_banner.6bfd1f8e.png"},129:function(e,t,a){e.exports=a.p+"static/media/shopee_square.f57b6a07.png"},189:function(e,t,a){e.exports=a.p+"static/media/lazada_banner.4fd94c63.png"},190:function(e,t,a){e.exports=a.p+"static/media/lazada_square.9297a28e.png"},202:function(e,t,a){"use strict";var r=a(6),n=a.n(r),s=a(5),o=a(3),c=a(188),i=a.n(c),u=function(e,t,a,r,n){return i()({method:e,headers:n||{"Content-Type":"multipart/form-data","X-API-VERSION":"1.4.24",exchangeId:"2",language:"en",source:"2"},url:t+a,data:r}).then((function(e){return{response:e}})).catch((function(e){return{error:e}}))},l="https://laravel-sandbox-whattheprice.herokuapp.com/api",d=function(e){return u("post",l,"/login",e)},p=function(e){return u("post",l,"/register",e)},m=function(e){return u("get",l,"/profile",null,e)},f=function(e){return u("get",l,"/user/upgrade",null,e)},g=function(e){return u("get",l,"/user/downgrade",null,e)},h=function(e,t){return u("post",l,"/tracker/query/save",e,t)},E=function(e,t){return u("post",l,"/tracker/product/save",e,t)},S=function(e){return u("get",l,"/price/query/list",null,e)},y=function(e){return u("get",l,"/price/product/list",null,e)},b=function(e){return u("get","https://api-sandbox-286406.et.r.appspot.com/api/","scraper/query?q=".concat(e.query,"&user_id=").concat(e.userID))},v=n.a.mark(R),w=n.a.mark(_),O=n.a.mark(L);function R(e){var t,a,r,c,i;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.data,(a=new FormData).append("email",t.email),a.append("password",t.password),n.next=6,Object(s.b)(d,a);case 6:if(r=n.sent,c=r.response,i=r.error,console.log(c),!c||"success"!==c.data.status){n.next=17;break}return n.next=13,Object(s.d)(o.a.loginSuccess(c.data));case 13:return n.next=15,Object(s.d)(o.a.activateUserSession(c.data));case 15:n.next=20;break;case 17:if(!i){n.next=20;break}return n.next=20,Object(s.d)(o.a.loginFail(i));case 20:case"end":return n.stop()}}),v)}function _(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.e)(o.a.LOGIN,R);case 2:case"end":return e.stop()}}),w)}function L(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)([Object(s.c)(_)]);case 2:case"end":return e.stop()}}),O)}var T=n.a.mark(U),k=n.a.mark(x),C=n.a.mark(D);function U(e){var t,a,r,c,i;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.data,console.log("register SAGA"),(a=new FormData).append("name",t.name),a.append("email",t.email),a.append("password",t.password),a.append("password_confirmation",t.password_confirmation),n.next=9,Object(s.b)(p,a);case 9:if(r=n.sent,c=r.response,i=r.error,console.log(c),!c||"success"!==c.data.status){n.next=16;break}return n.next=16,Object(s.d)(o.a.registerSuccess(c.data));case 16:if(!i){n.next=19;break}return n.next=19,Object(s.d)(o.a.registerFail(i));case 19:case"end":return n.stop()}}),T)}function x(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.e)(o.a.REGISTER,U);case 2:case"end":return e.stop()}}),k)}function D(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)([Object(s.c)(x)]);case 2:case"end":return e.stop()}}),C)}var N=n.a.mark(j);function j(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)([Object(s.c)(L),Object(s.c)(D)]);case 2:case"end":return e.stop()}}),N)}var A=n.a.mark(I),G=n.a.mark(M),P=n.a.mark(F);function I(e){var t,a,r,c;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.data,n.next=3,Object(s.b)(b,t);case 3:if(a=n.sent,r=a.response,c=a.error,console.log(r,c),!r||200!==r.data.status_code){n.next=10;break}return n.next=10,Object(s.d)(o.a.resultSuccess(r.data));case 10:if(!c){n.next=13;break}return n.next=13,Object(s.d)(o.a.resultFail(c));case 13:case"end":return n.stop()}}),A)}function M(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.e)(o.a.RESULT,I);case 2:case"end":return e.stop()}}),G)}function F(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)([Object(s.c)(M)]);case 2:case"end":return e.stop()}}),P)}var Q=a(28),B=n.a.mark(H),Y=n.a.mark(z),q=n.a.mark(V);function H(e){var t,a,r,c,i,u,l;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.data,a=Q.b.getState().PROFILE.userSession.data.token,r={Authorization:"Bearer ".concat(a)},(c=new FormData).append("query",t.query),n.next=7,Object(s.b)(h,c,r);case 7:if(i=n.sent,u=i.response,l=i.error,!u||"success"!==u.data.status){n.next=13;break}return n.next=13,Object(s.d)(o.a.saveQuerySuccess(u.data));case 13:if(!l){n.next=16;break}return n.next=16,Object(s.d)(o.a.saveQueryFail(l));case 16:case"end":return n.stop()}}),B)}function z(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.e)(o.a.SAVE_QUERY,H);case 2:case"end":return e.stop()}}),Y)}function V(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)([Object(s.c)(z)]);case 2:case"end":return e.stop()}}),q)}var W=n.a.mark(K),X=n.a.mark($),J=n.a.mark(Z);function K(e){var t,a,r,c,i,u,l;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.data,a=Q.b.getState().PROFILE.userSession.data.token,console.log("token",a),r={Authorization:"Bearer ".concat(a)},(c=new FormData).append("product_url",t.product_url),c.append("product_name",t.product_name),n.next=9,Object(s.b)(E,c,r);case 9:if(i=n.sent,u=i.response,l=i.error,console.log(u,l),!u||"success"!==u.data.status){n.next=16;break}return n.next=16,Object(s.d)(o.a.saveProductSuccess(u.data));case 16:if(!l){n.next=19;break}return n.next=19,Object(s.d)(o.a.saveProductFail(l));case 19:case"end":return n.stop()}}),W)}function $(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.e)(o.a.SAVE_PRODUCT,K);case 2:case"end":return e.stop()}}),X)}function Z(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)([Object(s.c)($)]);case 2:case"end":return e.stop()}}),J)}var ee=n.a.mark(re),te=n.a.mark(ne),ae=n.a.mark(se);function re(){var e,t,a,r,c;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=Q.b.getState().PROFILE.userSession.data.token,t={Authorization:"Bearer ".concat(e)},n.next=4,Object(s.b)(S,t);case 4:if(a=n.sent,r=a.response,c=a.error,!r||"success"!==r.data.status){n.next=10;break}return n.next=10,Object(s.d)(o.a.getQuerySuccess(r.data));case 10:if(!c){n.next=13;break}return n.next=13,Object(s.d)(o.a.getQueryFail(c));case 13:case"end":return n.stop()}}),ee)}function ne(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.e)(o.a.GET_QUERY,re);case 2:case"end":return e.stop()}}),te)}function se(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)([Object(s.c)(ne)]);case 2:case"end":return e.stop()}}),ae)}var oe=n.a.mark(ue),ce=n.a.mark(le),ie=n.a.mark(de);function ue(){var e,t,a,r,c;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=Q.b.getState().PROFILE.userSession.data.token,t={Authorization:"Bearer ".concat(e)},n.next=4,Object(s.b)(y,t);case 4:if(a=n.sent,r=a.response,c=a.error,!r||"success"!==r.data.status){n.next=10;break}return n.next=10,Object(s.d)(o.a.getProductSuccess(r.data));case 10:if(!c){n.next=13;break}return n.next=13,Object(s.d)(o.a.getProductFail(c));case 13:case"end":return n.stop()}}),oe)}function le(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.e)(o.a.GET_PRODUCT,ue);case 2:case"end":return e.stop()}}),ce)}function de(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)([Object(s.c)(le)]);case 2:case"end":return e.stop()}}),ie)}var pe=n.a.mark(me);function me(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)([Object(s.c)(F),Object(s.c)(V),Object(s.c)(Z),Object(s.c)(se),Object(s.c)(de)]);case 2:case"end":return e.stop()}}),pe)}var fe=n.a.mark(Ee),ge=n.a.mark(Se),he=n.a.mark(ye);function Ee(){var e,t,a,r,c;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=Q.b.getState().PROFILE.userSession.data.token,t={Authorization:"Bearer ".concat(e)},n.next=4,Object(s.b)(m,t);case 4:if(a=n.sent,r=a.response,c=a.error,!r||"success"!==r.data.status){n.next=10;break}return n.next=10,Object(s.d)(o.a.getUserSuccess(r.data));case 10:if(!c){n.next=13;break}return n.next=13,Object(s.d)(o.a.getUserFail(c));case 13:case"end":return n.stop()}}),fe)}function Se(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.e)(o.a.GET_USER,Ee);case 2:case"end":return e.stop()}}),ge)}function ye(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)([Object(s.c)(Se)]);case 2:case"end":return e.stop()}}),he)}var be=n.a.mark(Oe),ve=n.a.mark(Re),we=n.a.mark(_e);function Oe(){var e,t,a,r,c;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=Q.b.getState().PROFILE.userSession.data.token,t={Authorization:"Bearer ".concat(e)},n.next=4,Object(s.b)(f,t);case 4:if(a=n.sent,r=a.response,c=a.error,console.log(r,c),!r||"success"!==r.data.status){n.next=11;break}return n.next=11,Object(s.d)(o.a.upgradeSuccess(r.data));case 11:if(!c){n.next=14;break}return n.next=14,Object(s.d)(o.a.upgradeFail(c));case 14:case"end":return n.stop()}}),be)}function Re(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.e)(o.a.UPGRADE,Oe);case 2:case"end":return e.stop()}}),ve)}function _e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)([Object(s.c)(Re)]);case 2:case"end":return e.stop()}}),we)}var Le=n.a.mark(Ce),Te=n.a.mark(Ue),ke=n.a.mark(xe);function Ce(){var e,t,a,r,c;return n.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=Q.b.getState().PROFILE.userSession.data.token,t={Authorization:"Bearer ".concat(e)},n.next=4,Object(s.b)(g,t);case 4:if(a=n.sent,r=a.response,c=a.error,console.log(r,c),!r||"success"!==r.data.status){n.next=11;break}return n.next=11,Object(s.d)(o.a.downgradeSuccess(r.data));case 11:if(!c){n.next=14;break}return n.next=14,Object(s.d)(o.a.downgradeFail(c));case 14:case"end":return n.stop()}}),Le)}function Ue(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.e)(o.a.DOWNGRADE,Ce);case 2:case"end":return e.stop()}}),Te)}function xe(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)([Object(s.c)(Ue)]);case 2:case"end":return e.stop()}}),ke)}var De=n.a.mark(Ne);function Ne(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)([Object(s.c)(ye),Object(s.c)(_e),Object(s.c)(xe)]);case 2:case"end":return e.stop()}}),De)}a.d(t,"a",(function(){return Ae}));var je=n.a.mark(Ae);function Ae(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.a)([Object(s.c)(j),Object(s.c)(me),Object(s.c)(Ne)]);case 2:case"end":return e.stop()}}),je)}},203:function(e,t,a){"use strict";var r=a(27),n=a(3);var s=function(e,t){if("undefined"===typeof e)return{isLoading:!1,error:null,data:{}};switch(t.type){case n.a.LOGIN:return{isLoading:!0,error:null,data:{}};case n.a.LOGIN_SUCCESS:return{isLoading:!1,error:null,data:t.data};case n.a.LOGIN_FAIL:return{isLoading:!1,error:t.error,data:{}};case n.a.RESET_LOGIN:return{isLoading:!1,error:null,data:{}};default:return e}};var o=function(e,t){if("undefined"===typeof e)return{isLoading:!1,error:null,data:{}};switch(t.type){case n.a.REGISTER:return{isLoading:!0,error:null,data:{}};case n.a.REGISTER_SUCCESS:return{isLoading:!1,error:null,data:t.data};case n.a.REGISTER_FAIL:return{isLoading:!1,error:t.error,data:{}};case n.a.RESET_REGISTER:return{isLoading:!1,error:null,data:{}};default:return e}},c=Object(r.c)({login:s,register:o});var i=function(e,t){if("undefined"===typeof e)return{isLoading:!1,error:null,data:{}};switch(t.type){case n.a.ACTIVATE_USER_SESSION:return{isLoading:!1,error:null,data:t.data};case n.a.RESET_USER_SESSION:return{isLoading:!1,error:null,data:{}};default:return e}};var u=function(e,t){if("undefined"===typeof e)return{isLoading:!1,error:null,data:{}};switch(t.type){case n.a.GET_USER:return{isLoading:!0,error:null,data:{}};case n.a.GET_USER_SUCCESS:return{isLoading:!1,error:null,data:t.data};case n.a.GET_USER_FAIL:return{isLoading:!1,error:t.error,data:{}};case n.a.RESET_GET_USER:return{isLoading:!1,error:null,data:{}};default:return e}};var l=function(e,t){if("undefined"===typeof e)return{isLoading:!1,error:null,data:{}};switch(t.type){case n.a.UPGRADE:return{isLoading:!0,error:null,data:{}};case n.a.UPGRADE_SUCCESS:return{isLoading:!1,error:null,data:t.data};case n.a.UPGRADE_FAIL:return{isLoading:!1,error:t.error,data:{}};case n.a.RESET_UPGRADE:return{isLoading:!1,error:null,data:{}};default:return e}};var d=function(e,t){if("undefined"===typeof e)return{isLoading:!1,error:null,data:{}};switch(t.type){case n.a.DOWNGRADE:return{isLoading:!0,error:null,data:{}};case n.a.DOWNGRADE_SUCCESS:return{isLoading:!1,error:null,data:t.data};case n.a.DOWNGRADE_FAIL:return{isLoading:!1,error:t.error,data:{}};case n.a.RESET_DOWNGRADE:return{isLoading:!1,error:null,data:{}};default:return e}},p=Object(r.c)({userSession:i,getUser:u,upgrade:l,downgrade:d});var m=function(e,t){if("undefined"===typeof e)return{isLoading:!1,error:null,data:{}};switch(t.type){case n.a.RESULT:return{isLoading:!0,error:null,data:{}};case n.a.RESULT_SUCCESS:return{isLoading:!1,error:null,data:t.data};case n.a.RESULT_FAIL:return{isLoading:!1,error:t.error,data:{}};case n.a.RESET_RESULT:return{isLoading:!1,error:null,data:{}};default:return e}};var f=function(e,t){if("undefined"===typeof e)return{isLoading:!1,error:null,data:{}};switch(t.type){case n.a.SAVE_QUERY:return{isLoading:!0,error:null,data:{}};case n.a.SAVE_QUERY_SUCCESS:return{isLoading:!1,error:null,data:t.data};case n.a.SAVE_QUERY_FAIL:return{isLoading:!1,error:t.error,data:{}};case n.a.RESET_SAVE_QUERY:return{isLoading:!1,error:null,data:{}};default:return e}};var g=function(e,t){if("undefined"===typeof e)return{isLoading:!1,error:null,data:{}};switch(t.type){case n.a.SAVE_PRODUCT:return{isLoading:!0,error:null,data:{}};case n.a.SAVE_PRODUCT_SUCCESS:return{isLoading:!1,error:null,data:t.data};case n.a.SAVE_PRODUCT_FAIL:return{isLoading:!1,error:t.error,data:{}};case n.a.RESET_SAVE_PRODUCT:return{isLoading:!1,error:null,data:{}};default:return e}};var h=function(e,t){if("undefined"===typeof e)return{isLoading:!1,error:null,data:{}};switch(t.type){case n.a.GET_QUERY:return{isLoading:!0,error:null,data:{}};case n.a.GET_QUERY_SUCCESS:return{isLoading:!1,error:null,data:t.data};case n.a.GET_QUERY_FAIL:return{isLoading:!1,error:t.error,data:{}};case n.a.RESET_GET_QUERY:return{isLoading:!1,error:null,data:{}};default:return e}};var E=function(e,t){if("undefined"===typeof e)return{isLoading:!1,error:null,data:{}};switch(t.type){case n.a.GET_PRODUCT:return{isLoading:!0,error:null,data:{}};case n.a.GET_PRODUCT_SUCCESS:return{isLoading:!1,error:null,data:t.data};case n.a.GET_PRODUCT_FAIL:return{isLoading:!1,error:t.error,data:{}};case n.a.RESET_GET_PRODUCT:return{isLoading:!1,error:null,data:{}};default:return e}},S=Object(r.c)({result:m,saveQuery:f,saveProduct:g,getQuery:h,getProduct:E});t.a={AUTH:c,PROFILE:p,QUERY:S}},210:function(e,t,a){e.exports=a(363)},216:function(e,t,a){},217:function(e,t,a){},242:function(e,t,a){},243:function(e,t,a){},244:function(e,t,a){},246:function(e,t,a){},247:function(e,t,a){},248:function(e,t,a){},249:function(e,t,a){},28:function(e,t,a){"use strict";(function(e){a.d(t,"b",(function(){return g})),a.d(t,"a",(function(){return h}));var r=a(65),n=a(26),s=a(27),o=a(136),c=a(187),i=a.n(c),u=a(202),l=a(203),d=a(125),p=Object(o.a)({key:"root",storage:i.a,whitelist:["PROFILE"]},Object(s.c)(Object(n.a)({},l.a))),m=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(s.e)(p,e,m(s.a.apply(void 0,Object(r.a)(d.a))));return d.b.run(u.a),{persistor:Object(o.b)(t),store:t}}(),g=f.store,h=f.persistor;e.store=g}).call(this,a(84))},3:function(e,t,a){"use strict";var r={};a.r(r),a.d(r,"NAME",(function(){return g})),a.d(r,"LOGIN",(function(){return h})),a.d(r,"LOGIN_SUCCESS",(function(){return E})),a.d(r,"LOGIN_FAIL",(function(){return S})),a.d(r,"RESET_LOGIN",(function(){return y})),a.d(r,"getLoginData",(function(){return b})),a.d(r,"login",(function(){return v})),a.d(r,"loginSuccess",(function(){return w})),a.d(r,"loginFail",(function(){return O})),a.d(r,"resetLogin",(function(){return R}));var n={};a.r(n),a.d(n,"NAME",(function(){return _})),a.d(n,"REGISTER",(function(){return L})),a.d(n,"REGISTER_SUCCESS",(function(){return T})),a.d(n,"REGISTER_FAIL",(function(){return k})),a.d(n,"RESET_REGISTER",(function(){return C})),a.d(n,"getRegisterData",(function(){return U})),a.d(n,"register",(function(){return x})),a.d(n,"registerSuccess",(function(){return D})),a.d(n,"registerFail",(function(){return N})),a.d(n,"resetRegister",(function(){return j}));var s={};a.r(s),a.d(s,"NAME",(function(){return G})),a.d(s,"ACTIVATE_USER_SESSION",(function(){return P})),a.d(s,"RESET_USER_SESSION",(function(){return I})),a.d(s,"getUserSession",(function(){return M})),a.d(s,"activateUserSession",(function(){return F})),a.d(s,"resetUserSession",(function(){return Q}));var o={};a.r(o),a.d(o,"NAME",(function(){return B})),a.d(o,"GET_USER",(function(){return Y})),a.d(o,"GET_USER_SUCCESS",(function(){return q})),a.d(o,"GET_USER_FAIL",(function(){return H})),a.d(o,"RESET_GET_USER",(function(){return z})),a.d(o,"getUserData",(function(){return V})),a.d(o,"getUser",(function(){return W})),a.d(o,"getUserSuccess",(function(){return X})),a.d(o,"getUserFail",(function(){return J})),a.d(o,"resetGetUser",(function(){return K}));var c={};a.r(c),a.d(c,"NAME",(function(){return $})),a.d(c,"UPGRADE",(function(){return Z})),a.d(c,"UPGRADE_SUCCESS",(function(){return ee})),a.d(c,"UPGRADE_FAIL",(function(){return te})),a.d(c,"RESET_UPGRADE",(function(){return ae})),a.d(c,"getUpgradeData",(function(){return re})),a.d(c,"upgrade",(function(){return ne})),a.d(c,"upgradeSuccess",(function(){return se})),a.d(c,"upgradeFail",(function(){return oe})),a.d(c,"resetUpgrade",(function(){return ce}));var i={};a.r(i),a.d(i,"NAME",(function(){return ie})),a.d(i,"DOWNGRADE",(function(){return ue})),a.d(i,"DOWNGRADE_SUCCESS",(function(){return le})),a.d(i,"DOWNGRADE_FAIL",(function(){return de})),a.d(i,"RESET_DOWNGRADE",(function(){return pe})),a.d(i,"getDowngradeData",(function(){return me})),a.d(i,"downgrade",(function(){return fe})),a.d(i,"downgradeSuccess",(function(){return ge})),a.d(i,"downgradeFail",(function(){return he})),a.d(i,"resetDowngrade",(function(){return Ee}));var u={};a.r(u),a.d(u,"NAME",(function(){return ye})),a.d(u,"RESULT",(function(){return be})),a.d(u,"RESULT_SUCCESS",(function(){return ve})),a.d(u,"RESULT_FAIL",(function(){return we})),a.d(u,"RESET_RESULT",(function(){return Oe})),a.d(u,"getResultData",(function(){return Re})),a.d(u,"result",(function(){return _e})),a.d(u,"resultSuccess",(function(){return Le})),a.d(u,"resultFail",(function(){return Te}));var l={};a.r(l),a.d(l,"NAME",(function(){return ke})),a.d(l,"SAVE_QUERY",(function(){return Ce})),a.d(l,"SAVE_QUERY_SUCCESS",(function(){return Ue})),a.d(l,"SAVE_QUERY_FAIL",(function(){return xe})),a.d(l,"RESET_SAVE_QUERY",(function(){return De})),a.d(l,"getSaveQueryData",(function(){return Ne})),a.d(l,"saveQuery",(function(){return je})),a.d(l,"saveQuerySuccess",(function(){return Ae})),a.d(l,"saveQueryFail",(function(){return Ge}));var d={};a.r(d),a.d(d,"NAME",(function(){return Pe})),a.d(d,"SAVE_PRODUCT",(function(){return Ie})),a.d(d,"SAVE_PRODUCT_SUCCESS",(function(){return Me})),a.d(d,"SAVE_PRODUCT_FAIL",(function(){return Fe})),a.d(d,"RESET_SAVE_PRODUCT",(function(){return Qe})),a.d(d,"getSaveProductData",(function(){return Be})),a.d(d,"saveProduct",(function(){return Ye})),a.d(d,"saveProductSuccess",(function(){return qe})),a.d(d,"saveProductFail",(function(){return He}));var p={};a.r(p),a.d(p,"NAME",(function(){return ze})),a.d(p,"GET_QUERY",(function(){return Ve})),a.d(p,"GET_QUERY_SUCCESS",(function(){return We})),a.d(p,"GET_QUERY_FAIL",(function(){return Xe})),a.d(p,"RESET_GET_QUERY",(function(){return Je})),a.d(p,"getQueryData",(function(){return Ke})),a.d(p,"getQuery",(function(){return $e})),a.d(p,"getQuerySuccess",(function(){return Ze})),a.d(p,"getQueryFail",(function(){return et}));var m={};a.r(m),a.d(m,"NAME",(function(){return tt})),a.d(m,"GET_PRODUCT",(function(){return at})),a.d(m,"GET_PRODUCT_SUCCESS",(function(){return rt})),a.d(m,"GET_PRODUCT_FAIL",(function(){return nt})),a.d(m,"RESET_GET_PRODUCT",(function(){return st})),a.d(m,"getProductData",(function(){return ot})),a.d(m,"getProduct",(function(){return ct})),a.d(m,"getProductSuccess",(function(){return it})),a.d(m,"getProductFail",(function(){return ut}));var f=a(26),g="AUTH",h="".concat(g,"/LOGIN"),E="".concat(g,"/LOGIN_SUCCESS"),S="".concat(g,"/LOGIN_FAIL"),y="".concat(g,"/RESET_LOGIN"),b=function(e){return e[g].login},v=function(e){return{type:h,data:e}},w=function(e){return{type:E,data:e}},O=function(e){return{type:S,error:e}},R=function(){return{type:y}},_="AUTH",L="".concat(_,"/REGISTER"),T="".concat(_,"/REGISTER_SUCCESS"),k="".concat(_,"/REGISTER_FAIL"),C="".concat(_,"/RESET_REGISTER"),U=function(e){return e[_].register},x=function(e){return{type:L,data:e}},D=function(e){return{type:T,data:e}},N=function(e){return{type:k,error:e}},j=function(){return{type:C}},A=Object(f.a)(Object(f.a)({},r),n),G="PROFILE",P="".concat(G,"/ACTIVATE_USER_SESSION"),I="".concat(G,"/RESET_USER_SESSION"),M=function(e){return e[G].userSession},F=function(e){return{type:P,data:e}},Q=function(){return{type:I}},B="PROFILE",Y="".concat(B,"/GET_USER"),q="".concat(B,"/GET_USER_SUCCESS"),H="".concat(B,"/GET_USER_FAIL"),z="".concat(B,"/RESET_GET_USER"),V=function(e){return e[B].getUser},W=function(e){return{type:Y,data:e}},X=function(e){return{type:q,data:e}},J=function(e){return{type:H,error:e}},K=function(){return{type:z}},$="PROFILE",Z="".concat($,"/UPGRADE"),ee="".concat($,"/UPGRADE_SUCCESS"),te="".concat($,"/UPGRADE_FAIL"),ae="".concat($,"/RESET_UPGRADE"),re=function(e){return e[$].upgrade},ne=function(e){return{type:Z,data:e}},se=function(e){return{type:ee,data:e}},oe=function(e){return{type:te,error:e}},ce=function(){return{type:ae}},ie="PROFILE",ue="".concat(ie,"/DOWNGRADE"),le="".concat(ie,"/DOWNGRADE_SUCCESS"),de="".concat(ie,"/DOWNGRADE_FAIL"),pe="".concat(ie,"/RESET_DOWNGRADE"),me=function(e){return e[ie].downgrade},fe=function(e){return{type:ue,data:e}},ge=function(e){return{type:le,data:e}},he=function(e){return{type:de,error:e}},Ee=function(){return{type:pe}},Se=Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)({},s),o),c),i),ye="QUERY",be="".concat(ye,"/RESULT"),ve="".concat(ye,"/RESULT_SUCCESS"),we="".concat(ye,"/RESULT_FAIL"),Oe="".concat(ye,"/RESET_RESULT"),Re=function(e){return e[ye].result},_e=function(e){return{type:be,data:e}},Le=function(e){return{type:ve,data:e}},Te=function(e){return{type:we,error:e}},ke="QUERY",Ce="".concat(ke,"/SAVE_QUERY"),Ue="".concat(ke,"/SAVE_QUERY_SUCCESS"),xe="".concat(ke,"/SAVE_QUERY_FAIL"),De="".concat(ke,"/RESET_SAVE_QUERY"),Ne=function(e){return e[ke].saveQuery},je=function(e){return{type:Ce,data:e}},Ae=function(e){return{type:Ue,data:e}},Ge=function(e){return{type:xe,error:e}},Pe="QUERY",Ie="".concat(Pe,"/SAVE_PRODUCT"),Me="".concat(Pe,"/SAVE_PRODUCT_SUCCESS"),Fe="".concat(Pe,"/SAVE_PRODUCT_FAIL"),Qe="".concat(Pe,"/RESET_SAVE_PRODUCT"),Be=function(e){return e[Pe].saveProduct},Ye=function(e){return{type:Ie,data:e}},qe=function(e){return{type:Me,data:e}},He=function(e){return{type:Fe,error:e}},ze="QUERY",Ve="".concat(ze,"/GET_QUERY"),We="".concat(ze,"/GET_QUERY_SUCCESS"),Xe="".concat(ze,"/GET_QUERY_FAIL"),Je="".concat(ze,"/RESET_GET_QUERY"),Ke=function(e){return e[ze].getQuery},$e=function(e){return{type:Ve,data:e}},Ze=function(e){return{type:We,data:e}},et=function(e){return{type:Xe,error:e}},tt="QUERY",at="".concat(tt,"/GET_PRODUCT"),rt="".concat(tt,"/GET_PRODUCT_SUCCESS"),nt="".concat(tt,"/GET_PRODUCT_FAIL"),st="".concat(tt,"/RESET_GET_PRODUCT"),ot=function(e){return e[tt].getProduct},ct=function(e){return{type:at,data:e}},it=function(e){return{type:rt,data:e}},ut=function(e){return{type:nt,error:e}},lt=Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)(Object(f.a)({},u),l),d),p),m);t.a=Object(f.a)(Object(f.a)(Object(f.a)({},A),Se),lt)},353:function(e,t,a){},361:function(e,t,a){},362:function(e,t,a){},363:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),s=a(67),o=a.n(s),c=(a(215),a(216),a(217),a(38)),i=a(185),u=a(28),l=a(19),d=a(20),p=a(22),m=a(21),f=a(46),g=a(3),h=(a(242),a(243),a(370)),E=(a(244),function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={isLoading:!0},r}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"modalContainer"},n.a.createElement("div",{className:"modalHeader"},n.a.createElement("h3",null,n.a.createElement("b",null,this.props.modalTitle))),n.a.createElement("div",{className:"modalContentHolder"},this.props.isLoading?n.a.createElement(h.a,{color:"success",className:"loadingEffect",type:this.props.type}):n.a.createElement("div",null,n.a.createElement("h2",null,this.props.status),n.a.createElement("p",null,this.props.description))),n.a.createElement("div",{className:"modalFooter"},this.props.showModalButton&&n.a.createElement("button",{onClick:this.props.onClick,className:"modalButton"},"OK")))}}]),a}(n.a.Component)),S=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={email:"",name:"",isShowing:r.props.showBox,showModal:!1,isLoading:!0,authStatus:"",description:""},r}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.getUserSession;0!==Object.keys(e.data).length&&console.log("user",e.data)}},{key:"componentDidUpdate",value:function(e){var t=this.props.getLoginData;e.getLoginData.isLoading&&!t.isLoading&&(console.log("Login Data",t),t&&"success"===t.data.status?(this.setState({isLoading:!this.state.isLoading,authStatus:"Success",description:"You will redirect to homepage"},(function(){return window.location="/"})),console.log("login success")):t.error&&this.setState({isLoading:!this.state.isLoading,authStatus:"Failed",description:"Please try again"}))}},{key:"onLoginPressed",value:function(){var e={email:this.state.email,password:this.state.password};this.props.onLogin(e),this.setState({showModal:!this.state.showBox,isShowing:!this.state.isShowing})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"loginContainer ".concat(this.state.isShowing?"active":"hideBox")},n.a.createElement("div",{className:"loginHeader"},n.a.createElement("p",null,"Start tracking your favourite item"),n.a.createElement("p",{onClick:function(){return e.setState({isShowing:!e.state.isShowing})}},n.a.createElement("i",{className:"fa fa-times"}))),n.a.createElement("h1",{className:"loginTitle"},"Sign In"),n.a.createElement("div",{className:"loginInputHolder"},n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{className:"authInput",name:"email",placeholder:"email",onChange:function(t){return e.setState({email:t.target.value})}}),n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{className:"authInput",type:"password",name:"password",placeholder:"password",onChange:function(t){return e.setState({password:t.target.value})}}),n.a.createElement("div",{className:"rememberPwdHolder"},n.a.createElement("input",{type:"checkbox"}),n.a.createElement("p",{className:"subtitleText"},"remember password")),n.a.createElement("button",{className:"authButton",onClick:function(){return e.onLoginPressed()}},"SIGN IN"),n.a.createElement(f.b,{to:"/"},n.a.createElement("p",{className:"subtitleText"},"forgot username or password?"))),n.a.createElement("div",{className:"loginFooter"},n.a.createElement("p",{className:"subtitleText"},"Don't have account?"),n.a.createElement("p",{className:"subtitleText"},"Sign up ",n.a.createElement(f.b,{to:"/register",onClick:this.props.onHideBox},"here")," to start tracking your price"))),this.state.showModal&&n.a.createElement(E,{isLoading:this.state.isLoading,modalTitle:"Auth",status:this.state.authStatus,showModalButton:this.state.showModalButton,description:this.state.description,onClick:function(){return window.location="/"}}))}}]),a}(n.a.Component),y={onLogin:g.a.login},b=Object(c.b)((function(e){return{getUserSession:g.a.getUserSession(e),getLoginData:g.a.getLoginData(e)}}),y)(S),v=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={showLogin:!1,userLoggedIn:!1,username:"",showModal:!1,isLoading:!0,authStatus:"",description:""},r}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.getUserSession;console.log("header mount",e),0!==Object.keys(e.data).length&&(console.log("get user success"),this.setState({userLoggedIn:!0,username:e.data.user.name},(function(){return console.log("user Header",e)})))}},{key:"onLogoutPressed",value:function(){this.setState({showModal:!this.state.showBox}),this.props.onResetUserSession(),this.setState({isLoading:!this.state.isLoading,authStatus:"Logout Successful",description:"You will redirect to homepage"},(function(){return window.location="/"}))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"headerContainer"},n.a.createElement("div",{className:"logoHolder"},n.a.createElement(f.b,{to:"/"},n.a.createElement("h1",null,n.a.createElement("b",null,"WhatThePrice")))),n.a.createElement("div",null,n.a.createElement("ul",{className:"headerMenu"},this.state.userLoggedIn&&n.a.createElement("div",{style:{display:"flex"}},n.a.createElement("li",null,"Hi ",n.a.createElement("b",null,this.state.username)),n.a.createElement("li",null,n.a.createElement(f.b,{to:"/dashboard"},n.a.createElement("i",{className:"fa fa-line-chart"}),"Track"))),this.state.userLoggedIn?n.a.createElement("li",{onClick:function(){return e.onLogoutPressed()}},n.a.createElement("i",{className:"fa fa-sign-out"}),"Logout"):n.a.createElement("li",{onClick:function(){return e.setState({showLogin:!e.state.showLogin})}},n.a.createElement("i",{className:"fa fa-user"}),"Login")))),this.state.showLogin&&n.a.createElement(b,{showBox:this.state.showLogin,onHideBox:function(){return e.setState({showLogin:!e.state.showLogin})}}),this.state.showModal&&n.a.createElement(E,{isLoading:this.state.isLoading,modalTitle:"Auth",status:this.state.authStatus,description:this.state.description,onClick:function(){return window.location="/"}}))}}]),a}(n.a.Component),w={onResetUserSession:g.a.resetUserSession},O=Object(c.b)((function(e){return{getUserSession:g.a.getUserSession(e)}}),w)(v),R=(a(246),a(128)),_=a.n(R),L=a(189),T=a.n(L),k=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"showPlatformLogo",value:function(){switch(this.props.platform){case"lazada":return T.a;case"shopee":default:return _.a}}},{key:"render",value:function(){return n.a.createElement("div",{className:"cardHolder"},n.a.createElement("div",{className:"productImgHolder"},n.a.createElement("img",{className:"productImg",src:"http://".concat(this.props.image),alt:"products"})),n.a.createElement("div",{className:"productNameHolder"},n.a.createElement("p",{className:"productName"},this.props.name,"Samsung Galaxy A11 (3GB RAM + 32GB ROM) Smartphone ,1 Year Samsung Malaysia Warranty , Free Shipping")),n.a.createElement("div",{className:"productInfoHolder"},n.a.createElement("ul",{className:"productInfoList"},n.a.createElement("li",{className:"productTrackHolder"},n.a.createElement("button",{onClick:this.props.onTrackBtnClick,className:"productTrackBtn","data-toggle":"tooltip",title:"Track this product"},n.a.createElement("b",null,"TRACK THIS PRODUCT"),n.a.createElement("i",{className:"fa fa-heart"}))),n.a.createElement("li",{className:"productPrice"},"RM",this.props.price),n.a.createElement("li",{className:"productBrand"},this.props.brand,"Samsung"),n.a.createElement("li",{className:"productPlatform"},n.a.createElement("img",{className:"platformLogo",src:this.showPlatformLogo(),alt:this.props.platform,height:"30",loading:"lazy"})),n.a.createElement("li",{className:"productLink"},n.a.createElement("a",{href:"http://".concat(this.props.url),target:"_blank",rel:"noopener noreferrer"},n.a.createElement("b",null,"BUY NOW"))))))}}]),a}(n.a.Component),C=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("p",null,"this is home"),n.a.createElement(k,null))}}]),a}(n.a.Component),U=a(393),x=a(401),D=a(402),N=a(397),j=a(394),A=a(403),G=(a(247),a(248),function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"searchBarContainer",style:{height:this.props.noQuery&&"200px",marginTop:this.props.noQuery&&"100px",backgroundColor:this.props.noQuery&&"transparent",alignItems:this.props.noQuery&&"center",animation:!this.props.noQuery&&"headerIn 1s linear"}},this.props.noQuery&&n.a.createElement("h1",{className:"webTitle"},"WhatThePrice"),n.a.createElement("div",{className:"inputHolder",style:{animation:!this.props.noQuery&&"inputToLeft 1s linear"}},n.a.createElement("input",{name:"query",className:"searchInput",onChange:this.props.onChange,style:{margin:this.props.noQuery&&"0 auto"}}),n.a.createElement("button",{className:"searchButton",onClick:this.props.onClick},n.a.createElement("i",{className:"fa fa-search"}))))}}]),a}(n.a.Component)),P=(a(249),a(129)),I=a.n(P),M=a(190),F=a.n(M),Q=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"showPlatformLogo",value:function(){switch(this.props.platform){case"lazada":return F.a;case"shopee":default:return I.a}}},{key:"render",value:function(){return n.a.createElement("div",{className:"listContainer",onMouseEnter:this.props.onHover},n.a.createElement("div",{className:"platformColumn infoColumn"},n.a.createElement("img",{className:"platformLogo",src:this.showPlatformLogo(),alt:this.props.platform,width:"40",height:"40"})),n.a.createElement("div",{className:"nameColumn infoColumn"},n.a.createElement("p",null,80===this.props.name.length?this.props.name:this.props.name.substr(0,80)+"...")),n.a.createElement("div",{className:"priceColumn infoColumn"},n.a.createElement("p",null,"RM",this.props.price)),n.a.createElement("div",{className:"linkColumn infoColumn"},n.a.createElement("div",{className:"buyButton"},n.a.createElement("a",{href:"http://".concat(this.props.url),target:"_blank",rel:"noopener noreferrer"},n.a.createElement("b",null,"BUY NOW")))))}}]),a}(n.a.Component),B=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={queryText:"",queryCalled:!1,userID:"",token:"",results:[],countResults:0,selectedItem:0,viewType:"list",sorted:!0,showModal:!1,modalTitle:"",modalDescription:"",showModalButton:!1,isQuerying:!0,modalType:"grow",modalOnClickHandler:function(){return r.setState({showModal:!1})}},r}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.getUserSession;console.log(e.data),0!==Object.keys(e.data).length&&this.setState({token:e.data.token,userID:e.data.user.id})}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props,r=a.getResultData,n=a.getSaveQueryData,s=a.getSaveProductData;e.getResultData.isLoading&&!r.isLoading&&(console.log(r.data.data),200===r.data.status_code&&(console.log("Scraping success"),this.setState({results:r.data.data,countResults:r.data.analytics.result_count,showModal:!1},(function(){return console.log(t.state.countResults,r.data.analytics.result_count)}))),(500===r.status_code||r.error)&&this.setState({isQuerying:!this.state.isQuerying,modalDescription:"Scraping Failed",showModalButton:!0,modalOnClickHandler:function(){return window.location="/"}})),e.getSaveQueryData.isLoading&&!n.isLoading&&(console.log(n.data),"success"===n.data.status&&(console.log("tracking success"),this.setState({isQuerying:!this.state.isQuerying,modalDescription:"Your query is saved",showModalButton:!0})),n.error&&this.setState({isQuerying:!this.state.isQuerying,modalDescription:"Tracking Failed",showModalButton:!0,modalOnClickHandler:function(){return window.location="/"}})),e.getSaveProductData.isLoading&&!s.isLoading&&(console.log(s.data),"success"===s.data.status&&(console.log("tracking success"),this.setState({isQuerying:!this.state.isQuerying,modalDescription:"Your product is saved",showModalButton:!0})),s.error&&this.setState({isQuerying:!this.state.isQuerying,modalDescription:"Tracking Failed",showModalButton:!0,modalOnClickHandler:function(){return window.location="/"}}))}},{key:"queryPressed",value:function(){var e={query:this.state.queryText,userID:this.state.userID};this.props.onResult(e),this.setState({queryCalled:!this.state.queryCalled,showModal:!0,modalTitle:"Scraping live data ..",modalType:"grow"})}},{key:"onSaveQueryPressed",value:function(){var e={query:this.state.queryText};console.log(this.state.token),""===this.state.token?alert("You're not login. Please sign in to continue"):(this.props.onSaveQuery(e),this.setState({showModal:!0,modalTitle:"Track",modalType:""}),console.log("query tracked"))}},{key:"onSaveProductPressed",value:function(e,t){console.log("this url should be passed",e);var a={product_url:"https://".concat(e),product_name:t};""===this.state.token?alert("You're not login. Please sign in to continue"):(this.props.onSaveProduct(a),this.setState({showModal:!0,modalTitle:"Track",modalType:""}),console.log("product tracked"))}},{key:"onItemSelected",value:function(e){this.setState({selectedItem:e})}},{key:"changeView",value:function(e){this.setState({viewType:e})}},{key:"sortGraph",value:function(){this.setState({sorted:!this.state.sorted})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,!1===this.state.queryCalled&&n.a.createElement(G,{onChange:function(t){return e.setState({queryText:t.target.value})},noQuery:!this.state.queryCalled,onClick:function(){return e.queryPressed()}}),this.state.queryCalled&&this.state.showModal&&n.a.createElement(E,{isLoading:this.state.isQuerying,modalTitle:this.state.modalTitle,showModalButton:this.state.showModalButton,description:this.state.modalDescription,type:this.state.modalType,onClick:this.state.modalOnClickHandler}),this.state.queryCalled&&!this.state.showModal&&n.a.createElement("div",null,n.a.createElement(G,{onChange:function(t){return e.setState({queryText:t.target.value})},noQuery:!this.state.queryCalled,onClick:function(){return e.queryPressed()}}),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"trackerHolder"},n.a.createElement("h3",{className:"queryText"},this.state.queryText,n.a.createElement("span",{className:"querySum"}," (",this.state.countResults," results)")),n.a.createElement("button",{onClick:function(){return e.onSaveQueryPressed()},className:"trackButton"},"Track this query")),n.a.createElement("div",{className:"resultContainer"},n.a.createElement("div",{className:"cardHolder"},n.a.createElement("div",null,0===this.state.results.length?n.a.createElement(k,null):this.state.results.filter((function(t){return t.id===e.state.selectedItem})).map((function(t){return n.a.createElement(k,{key:t.id,platform:t.platform,name:t.name,brand:t.brand,image:t.image_url,price:t.price,product_id:t.product_id,url:t.url,onTrackBtnClick:function(){return e.onSaveProductPressed(t.url,t.name)}})})))),n.a.createElement("div",{className:"allResultsContainer"},n.a.createElement("div",{className:"allResultsHeader"},n.a.createElement("h3",null,"Results"),n.a.createElement("div",{className:"filterHolder"},n.a.createElement("p",null,"Sort by"),n.a.createElement("button",{className:"sortBtn",onClick:function(){return e.sortGraph()}},this.state.sorted?"Expensive first":"Cheapest first"),n.a.createElement("div",{className:"selectorBtnHolder"},n.a.createElement("button",{className:"selectorBtn",onClick:function(){return e.changeView("graph")},style:{backgroundColor:"graph"===this.state.viewType&&"darkgray"}},n.a.createElement("i",{className:"fa fa-signal"})),n.a.createElement("button",{className:"selectorBtn",onClick:function(){return e.changeView("list")},style:{backgroundColor:"list"===this.state.viewType&&"darkgray"}},n.a.createElement("i",{className:"fa fa-th-list"}))))),"list"===this.state.viewType&&n.a.createElement("div",{className:"listHolder"},0===this.state.results.length?n.a.createElement("p",null,"no result found"):this.state.results.sort((function(t,a){return e.state.sorted?t.price-a.price:a.price-t.price})).map((function(t,a){return n.a.createElement(Q,{key:t.id,platform:t.platform,name:t.name,brand:t.brand,image:t.image_url,price:t.price,product_id:t.product_id,url:t.url,onHover:function(){return e.onItemSelected(t.id)}})}))),"graph"===this.state.viewType&&n.a.createElement("div",{className:"graphHolder"},n.a.createElement(U.a,{domainPadding:{x:[20,20]},width:500},n.a.createElement(x.a,{dependentAxis:!0,label:"Price",axisComponent:n.a.createElement(D.a,{style:{fontSize:"1"}}),axisLabelComponent:n.a.createElement(N.a,{style:{fontSize:"20"},dy:-100,dx:25,angle:360}),tickLabelComponent:n.a.createElement(N.a,{style:{fontSize:"10"}}),tickFormat:function(e){return"RM".concat(e)}}),n.a.createElement(j.a,{data:this.state.results.sort((function(t,a){return e.state.sorted?t.price-a.price:a.price-t.price})),y:"price",style:{data:{fill:"#219653"}},barRatio:.8,alignment:"start",animate:{duration:2e3,onLoad:{duration:1e3}},labels:function(e){var t=e.datum;return"RM".concat(t.price," from ").concat(t.platform)},labelComponent:n.a.createElement(A.a,{style:{fontSize:"10"},pointerLength:5}),events:[{target:"data",eventHandlers:{onMouseEnter:function(){return[{target:"data",mutation:function(e){return"#219653"===(e.style&&e.style.fill)?null:{style:{fill:"#219653"}}}}]}}}]}))))))))}}]),a}(n.a.Component),Y={onResult:g.a.result,onSaveQuery:g.a.saveQuery,onSaveProduct:g.a.saveProduct},q=Object(c.b)((function(e){return{getUserSession:g.a.getUserSession(e),getResultData:g.a.getResultData(e),getSaveQueryData:g.a.getSaveQueryData(e),getSaveProductData:g.a.getSaveProductData(e)}}),Y)(B),H=[{brand:"Samsung",id:0,image_url:"my-test-11.slatic.net/p/14aa6750e193bf2b176d7afb14e220f9.png",name:"Samsung Galaxy M31 (6GB RAM+128GB ROM) Smartphone , 1 Year Samsung Warranty, Free Shipping",platform:"lazada",price:959,product_id:"866292922",url:"www.lazada.com.my/products/samsung-galaxy-m31-6gb-ram128gb-rom-smartphone-1-year-samsung-warranty-free-shipping-i866292922-s2120442208.html"},{brand:"Samsung",id:1,image_url:"my-test-11.slatic.net/p/ee72d8a8687276f69ac365bd11772bad.png",name:"Samsung Galaxy M11 (3GB RAM + 32GB ROM) Smartphone ,1 Year Samsung Malaysia Warranty , Free Shipping",platform:"shopee",price:739,product_id:"1240560169",url:"www.lazada.com.my/products/samsung-galaxy-m11-3gb-ram-32gb-rom-smartphone-1-year-samsung-malaysia-warranty-free-shipping-i1240560169-s3690866471.html"},{brand:"Samsung",id:2,image_url:"my-test-11.slatic.net/p/e7bc16f9e60348e30a14d3a9d3fd478e.jpg",name:"Samsung Galaxy A11 (3GB RAM + 32GB ROM) Smartphone ,1 Year Samsung Malaysia Warranty , Free Shipping",platform:"lazada",price:599,product_id:"1074906461",url:"www.lazada.com.my/products/samsung-galaxy-a11-3gb-ram-32gb-rom-smartphone"},{brand:"Samsung",id:3,image_url:"my-test-11.slatic.net/p/ee72d8a8687276f69ac365bd11772bad.png",name:"Samsung Galaxy M11 (3GB RAM + 32GB ROM) Smartphone ,1 Year Samsung Malaysia Warranty , Free Shipping",platform:"shopee",price:639,product_id:"1240560169",url:"www.lazada.com.my/products/samsung-galaxy-m11-3gb-ram-32gb-rom-smartphone-1-year-samsung-malaysia-warranty-free-shipping-i1240560169-s3690866471.html"},{brand:"Samsung",id:4,image_url:"my-test-11.slatic.net/p/e7bc16f9e60348e30a14d3a9d3fd478e.jpg",name:"Samsung Galaxy A11 (3GB RAM + 32GB ROM) Smartphone ,1 Year Samsung Malaysia Warranty , Free Shipping",platform:"lazada",price:519,product_id:"1074906461",url:"www.lazada.com.my/products/samsung-galaxy-a11-3gb-ram-32gb-rom-smartphone"},{brand:"Samsung",id:5,image_url:"my-test-11.slatic.net/p/ee72d8a8687276f69ac365bd11772bad.png",name:"Samsung Galaxy M11 (3GB RAM + 32GB ROM) Smartphone ,1 Year Samsung Malaysia Warranty , Free Shipping",platform:"shopee",price:737,product_id:"1240560169",url:"www.lazada.com.my/products/samsung-galaxy-m11-3gb-ram-32gb-rom-smartphone-1-year-samsung-malaysia-warranty-free-shipping-i1240560169-s3690866471.html"},{brand:"Samsung",id:6,image_url:"my-test-11.slatic.net/p/e7bc16f9e60348e30a14d3a9d3fd478e.jpg",name:"Samsung Galaxy A11 (3GB RAM + 32GB ROM) Smartphone ,1 Year Samsung Malaysia Warranty , Free Shipping",platform:"lazada",price:783,product_id:"1074906461",url:"www.lazada.com.my/products/samsung-galaxy-a11-3gb-ram-32gb-rom-smartphone"},{brand:"Samsung",id:7,image_url:"my-test-11.slatic.net/p/ee72d8a8687276f69ac365bd11772bad.png",name:"Samsung Galaxy M11 (3GB RAM + 32GB ROM) Smartphone ,1 Year Samsung Malaysia Warranty , Free Shipping",platform:"shopee",price:439,product_id:"1240560169",url:"www.lazada.com.my/products/samsung-galaxy-m11-3gb-ram-32gb-rom-smartphone-1-year-samsung-malaysia-warranty-free-shipping-i1240560169-s3690866471.html"},{brand:"Samsung",id:8,image_url:"my-test-11.slatic.net/p/e7bc16f9e60348e30a14d3a9d3fd478e.jpg",name:"Samsung Galaxy A11 (3GB RAM + 32GB ROM) Smartphone ,1 Year Samsung Malaysia Warranty , Free Shipping",platform:"lazada",price:529,product_id:"1074906461",url:"www.lazada.com.my/products/samsung-galaxy-a11-3gb-ram-32gb-rom-smartphone"}],z=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={sorted:!0},r}return Object(d.a)(a,[{key:"sortGraph",value:function(){this.setState({sorted:!this.state.sorted})}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("p",null,"this is graph view"),n.a.createElement("button",{onClick:function(){return e.sortGraph()}},this.state.sorted?"Expensive first":"Cheapest first"),n.a.createElement("div",null,n.a.createElement("button",null,n.a.createElement("i",{className:"fa fa-signal"})),n.a.createElement("button",null,n.a.createElement("i",{class:"fa fa-th-list"}))),n.a.createElement("div",{style:{width:"1000px",height:"1000px",margin:"0 auto",padding:"20px"}},n.a.createElement(U.a,{domainPadding:{x:[20,20]},width:500},n.a.createElement(x.a,{dependentAxis:!0,label:"Price",axisComponent:n.a.createElement(D.a,{style:{fontSize:"1"}}),axisLabelComponent:n.a.createElement(N.a,{style:{fontSize:"20"},dy:-100,dx:25,angle:360}),tickLabelComponent:n.a.createElement(N.a,{style:{fontSize:"10"}}),tickFormat:function(e){return"RM".concat(e)}}),n.a.createElement(j.a,{data:H.sort((function(t,a){return e.state.sorted?t.price-a.price:a.price-t.price})),y:"price",style:{data:{fill:"#219653"}},barRatio:.8,alignment:"start",labels:function(e){var t=e.datum;return"RM".concat(t.price," from ").concat(t.platform)},labelComponent:n.a.createElement(A.a,{style:{fontSize:"10"},pointerLength:5}),animate:{duration:2e3,onLoad:{duration:1e3}}}))))}}]),a}(n.a.Component),V=a(65),W=a(390),X=a(399),J=a(391),K=a(201),$=a.n(K),Z=function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).chartRef=n.a.createRef(),r}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.myChart=new $.a(this.chartRef.current,{type:"line",backgroundColor:this.props.color,data:{labels:this.props.data.map((function(e){return e.x})),datasets:[{label:"Price trend for ".concat(this.props.product),data:this.props.data,borderColor:"rgba(33, 150, 83, 1)",backgroundColor:"rgba(33, 150, 83, 0.2)"}]},options:{scales:{yAxes:[{ticks:{callback:function(e){return"RM".concat(e)}}}]},title:{text:"Price Tracking"}}})}},{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){return n.a.createElement("div",{style:{width:"800px",height:"400px"}},n.a.createElement("canvas",{ref:this.chartRef,className:"myChart"}))}}]),a}(n.a.Component),ee=(a(353),function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={data:r.props.data},console.log("data",r.props.data),r}return Object(d.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",{className:"trackCardHeader"},n.a.createElement("p",null,this.props.productName),n.a.createElement("div",{className:"trackCardBtnHolder"},n.a.createElement(W.a,{className:"openCardBtn trackBtn",onClick:this.props.onShow},"See trend"),n.a.createElement("button",{"data-toggle":"tooltip",title:"Stop tracking this product",className:"cancelTrackBtn trackBtn",onClick:this.props.onCancel},n.a.createElement("i",{className:"fa fa-minus"})))),n.a.createElement(X.a,{isOpen:this.props.isOpen},n.a.createElement(J.a,{className:"dashboardContentHolder"},n.a.createElement("div",{className:"dashboardSummaryHolder"},n.a.createElement("div",{className:"summaryCard"},n.a.createElement("p",null,"Latest  price"),n.a.createElement("h1",{className:"summaryPrice"},"RM",this.props.data[0].y)),n.a.createElement("div",{className:"summaryCard"},n.a.createElement("p",null,"Cheapest price"),n.a.createElement("h1",{className:"summaryPrice"},"RM",this.props.data.sort((function(e,t){return e.y-t.y}))[0].y)),n.a.createElement("div",{className:"summaryCard"},n.a.createElement("p",null,"Average price"),n.a.createElement("h1",{className:"summaryPrice"},"RM",(this.props.data.map((function(e){return parseInt(e.y)})).reduce((function(e,t){return e+t}))/this.props.data.length).toFixed(2)))),n.a.createElement(Z,{data:this.state.data,product:this.props.productName,title:"Price Trend for ".concat(this.props.productName),color:"#219674",category:"min_price"}))))}}]),a}(n.a.Component)),te=(a(361),function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={token:"",name:"",userProfile:[],userType:"",rawData:[],queryName:[],queryDataList:[],productName:[],productDataList:[],showTrend:!1,showModal:!1,isLoading:!0,modalTitle:"",modalDescription:"",showModalButton:!1},r}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.onGetQuery(),this.props.onGetProduct(),this.props.onGetUser();var e=this.props.getUserSession;console.log(e.data),0!==Object.keys(e.data).length&&this.setState({token:e.data.token,name:e.data.user.name})}},{key:"componentDidUpdate",value:function(e){var t=this,a=this.props,r=a.getUserData,n=a.getQueryData,s=a.getProductData,o=a.getUpgradeData,c=a.getDowngradeData;e.getUserData.isLoading&&!r.isLoading&&r&&"success"===r.data.status&&this.setState({userProfile:r.data.userProfile,userType:r.data.userProfile[0].user_type}),e.getQueryData.isLoading&&!n.isLoading&&n&&"success"===n.data.status&&function(){console.log("get query data",n);var e=Object(V.a)(new Set(n.data.query_price.map((function(e){return e.id})))),a=Object(V.a)(new Set(n.data.query_price.map((function(e){return e.query}))));t.setState({queryName:a});for(var r=[],s=function(t){for(var a=[],s=function(r){var s=Array.from(n.data.query_price.filter((function(a){return a.id===e[t]})).map((function(e){return e.min_price}))),o=Array.from(n.data.query_price.filter((function(a){return a.id===e[t]})).map((function(e){return e.created_at.substr(0,10)})));a=o.map((function(e,t){return{x:e,y:s[t]}}))},o=0;o<n.data.query_price.length;o++)s();r.push(a),console.log("final query data",r)},o=0;o<e.length;o++)s(o);t.setState({queryDataList:r})}(),e.getProductData.isLoading&&!s.isLoading&&s&&"success"===s.data.status&&function(){var e=Object(V.a)(new Set(s.data.product_price.map((function(e){return e.id})))),a=Object(V.a)(new Set(s.data.product_price.map((function(e){return e.product_name}))));t.setState({productName:a});for(var r=[],n=function(t){for(var a=[],n=function(r){var n=Array.from(s.data.product_price.filter((function(a){return a.id===e[t]})).map((function(e){return e.price}))),o=Array.from(s.data.product_price.filter((function(a){return a.id===e[t]})).map((function(e){return e.created_at.substr(0,10)})));a=o.map((function(e,t){return{x:e,y:n[t]}}))},o=0;o<s.data.product_price.length;o++)n();r.push(a)},o=0;o<e.length;o++)n(o);t.setState({productDataList:r},(function(){return console.log("after size",t.state.productDataList)}))}(),e.getUpgradeData.isLoading&&!o.isLoading&&o&&"success"===o.data.status&&this.setState({isLoading:!1,modalDescription:"Upgrade successful",showModalButton:!0}),e.getDowngradeData.isLoading&&!c.isLoading&&c&&"success"===c.data.status&&this.setState({isLoading:!1,modalDescription:"Unsubsribe successful",showModalButton:!0})}},{key:"changeUserType",value:function(){"free"===this.state.userType&&(this.props.onUpgrade(),this.setState({showModal:!0,modalTitle:"Upgrade"})),"premium"===this.state.userType&&(this.props.onDowngrade(),this.setState({showModal:!0,modalTitle:"Downgrade"}))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"dashboardContainer"},n.a.createElement("div",{className:"dashboardHeader"},n.a.createElement("h3",null,"Dashboard"),n.a.createElement("button",{onClick:function(){return e.changeUserType()},className:"upgradeBtn"},"free"===this.state.userType?"UPGRADE":"UNSUBSCRIBE")),this.state.userProfile.map((function(e){return n.a.createElement("div",{key:e.id,className:"profileContainer"},n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("b",{className:"profileLabel"},"NAME"),": ",e.name),n.a.createElement("li",null,n.a.createElement("b",{className:"profileLabel"},"EMAIL"),": ",e.email),n.a.createElement("li",null,n.a.createElement("b",{className:"profileLabel"},"BIRTH DATE"),": ",e.birth_date)),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("b",{className:"profileLabel"},"GENDER"),": ",e.gender),n.a.createElement("li",null,n.a.createElement("b",{className:"profileLabel"},"POSTCODE"),": ",e.postcode),n.a.createElement("li",null,n.a.createElement("b",{className:"profileLabel"},"USER TYPE"),": ",e.user_type)))})),"free"===this.state.userType&&0!==this.state.productDataList.length&&n.a.createElement("div",null,n.a.createElement("div",{className:"dashboardHeader"},n.a.createElement("h3",null,"Product Track")),n.a.createElement(ee,{productName:this.state.productName[0],data:this.state.productDataList[0],isOpen:this.state.showTrend,onShow:function(){return e.setState({showTrend:!e.state.showTrend})}}),n.a.createElement("h3",null,"Upgrade your subscription to see more tracked")),"premium"===this.state.userType&&0!==this.state.productDataList.length&&n.a.createElement("div",null,n.a.createElement("div",{className:"dashboardHeader"},n.a.createElement("h3",null,"Product Track")),this.state.productDataList.map((function(t,a){return n.a.createElement(ee,{key:a,productName:e.state.productName[a],data:t,isOpen:e.state.showTrend,onShow:function(){return e.setState({showTrend:!e.state.showTrend})}})})),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("div",{className:"dashboardHeader"},n.a.createElement("h3",null,"Query Track")),this.state.queryDataList.map((function(t,a){return n.a.createElement(ee,{key:a,productName:e.state.queryName[a],data:t,isOpen:e.state.showTrend,onShow:function(){return e.setState({showTrend:!e.state.showTrend})}})}))),this.state.showModal&&n.a.createElement(E,{isLoading:this.state.isLoading,modalTitle:this.state.modalTitle,showModalButton:this.state.showModalButton,description:this.state.modalDescription,onClick:function(){return e.setState({showModal:!1},(function(){return window.location="/dashboard"}))}}))}}]),a}(n.a.Component)),ae={onGetQuery:g.a.getQuery,onGetProduct:g.a.getProduct,onGetUser:g.a.getUser,onUpgrade:g.a.upgrade,onDowngrade:g.a.downgrade},re=Object(c.b)((function(e){return{getUserSession:g.a.getUserSession(e),getQueryData:g.a.getQueryData(e),getProductData:g.a.getProductData(e),getUserData:g.a.getUserData(e),getUpgradeData:g.a.getUpgradeData(e),getDowngradeData:g.a.getDowngradeData(e)}}),ae)(te),ne=(a(362),function(e){Object(p.a)(a,e);var t=Object(m.a)(a);function a(e){var r;return Object(l.a)(this,a),(r=t.call(this,e)).state={email:"",name:"",password:"",password_confirmation:""},r}return Object(d.a)(a,[{key:"componentDidMount",value:function(){console.log("DID MOUNT",this.props.getUserSession);var e=this.props.getUserSession;0!==Object.keys(e.data).length&&console.log("no user")}},{key:"componentDidUpdate",value:function(e){var t=this.props.getRegisterData;e.getRegisterData.isLoading&&!t.isLoading&&(console.log("Register Data",t),0!==Object.keys(t.data).length&&null!=t.data?alert("Success","Register successful"):null!=t.error&&alert("Failed","Register failed"))}},{key:"onRegisterPressed",value:function(){var e={name:this.state.name,email:this.state.email,password:this.state.password,password_confirmation:this.state.password_confirmation};console.log("data to dispatch",e),this.props.onRegister(e)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"registerContainer"},n.a.createElement("h1",{className:"registerTitle"},"Sign Up"),n.a.createElement("div",{className:"registerInputHolder"},n.a.createElement("label",{htmlFor:"name"},"Name"),n.a.createElement("input",{className:"authInput",name:"name",placeholder:"name",onChange:function(t){return e.setState({name:t.target.value})}}),n.a.createElement("label",{htmlFor:"email"},"Email"),n.a.createElement("input",{className:"authInput",name:"email",placeholder:"email",onChange:function(t){return e.setState({email:t.target.value})}}),n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{className:"authInput",type:"password",name:"password",placeholder:"password",onChange:function(t){return e.setState({password:t.target.value})}}),n.a.createElement("label",{htmlFor:"password"},"Confirm Password"),n.a.createElement("input",{className:"authInput",type:"password",name:"password_confirmation",placeholder:"confirm password",onChange:function(t){return e.setState({password_confirmation:t.target.value})}})),n.a.createElement("button",{className:"authButton",onClick:function(){return e.onRegisterPressed()}},"SIGN UP"),n.a.createElement("p",null,"Already registered? Go to ",n.a.createElement(f.b,{to:"/"},"homepage")," to sign in"))}}]),a}(n.a.Component)),se={onRegister:g.a.register},oe=Object(c.b)((function(e){return{getUserSession:g.a.getUserSession(e),getRegisterData:g.a.getRegisterData(e)}}),se)(ne),ce=a(25);var ie=function(){return n.a.createElement(c.a,{store:u.b},n.a.createElement(i.PersistGate,{persistor:u.a},n.a.createElement(f.a,null,n.a.createElement(O,null),n.a.createElement(ce.c,null,n.a.createElement(ce.a,{exact:!0,path:"/",component:q}),n.a.createElement(ce.a,{exact:!0,path:"/dashboard",component:re}),n.a.createElement(ce.a,{exact:!0,path:"/register",component:oe}),n.a.createElement(ce.a,{exact:!0,path:"/home",component:C}),n.a.createElement(ce.a,{exact:!0,path:"/result/graph",component:z})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[210,1,2]]]);